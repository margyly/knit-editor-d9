{
   "$schema":"https://json-schema.org/draft/2020-12/schema",
   "title":"Knitting Pattern",
   "description":"A pattern with knitting instructions for a single knitting project",
   "type":"object",
   "properties":{
      "patternTitle":{
         "description":"Name of the knitting pattern",
         "type":"string",
         "title":"Pattern Title"
      },
      "authorName":{
         "description":"Name of the author",
         "type":"string",
         "title":"Author name"
      },
      "category":{
         "description":"Category of what the pattern creates, e.g., hat, sweater, or scarf",
         "type":"string",
         "enum":[
            "Scarf",
            "Hat",
            "Blanket",
            "Sweater",
            "Vest",
            "Mittens",
            "Gloves",
            "Toy",
            "Other"
         ]
      },
      "description":{
         "description":"Short description of what the pattern makes (e.g., Three-Color Nordic Hat)",
         "type":"string"
      },
      "sizes":{
         "description":"Sizes provided in the pattern (e.g., Children's Small)",
         "type":"array",
         "items":{
            "type":"string"
         },
         "minItems":1,
         "uniqueItems":true
      },
      "colors":{
         "description":"Number of colors of yarn used in the pattern",
         "type":"integer"
      },
      "inTheRound":{
         "description":"Whether or not most or all of the pattern is knit in the round (true = in the round, false = back and forth",
         "type":"string"
      },
      "yarnWeight":{
         "description":"Weight (thickness) of the yarn to be used",
         "type":"string"
      },
      "numberOfSts":{
         "description":"Number of stiches that fit into the inchesSts number",
         "type":"integer"
      },
      "inchesSts":{
         "description":"Number of inches that numberOfSts measures across",
         "type":"integer"
      },
      "numberOfRows":{
         "description":"Number of rows that fit into the inchesRows number (optional)",
         "type":"integer"
      },
      "inchesRows":{
         "description":"umber of inches that numberOfRows measures up and down (optional)",
         "type":"integer"
      },
      "image":{
         "type":"string",
         "format":"url"
      },
      "section":{
         "description":"Part of the pattern, creating part of the finished product, e.g., front, back, or sleeve. Each part may have different properties.",
         "type":"array",
         "items":[
            {
               "type":"object",
               "properties":{
                  "sectionTitle":{
                     "description":"Name of the section, e.g., sleeve.",
                     "type":"string"
                  },
                  "comment":{
                     "description":"Optional text about this part of the pattern",
                     "type":"string"
                  },
                  "quantity":{
                     "description":"How many to make (e.g., make 24 squares to make a blanket)",
                     "type":"integer"
                  },
                  "row":{
                     "description":"Rows in this section",
                     "type":"array",
                     "items":[
                        {
                           "type":"object",
                           "properties":{
                              "rowInstructions":{
                                 "description":"Label, comment, and instructions for one row",
                                 "type":"object",
                                 "properties":{
                                    "label":{
                                       "description":"Label or name for this row, e.g. Row 1 or Starting to Turn the Heel",
                                       "type":"string"
                                    },
                                    "comment":{
                                       "description":"Optional text about this row",
                                       "type":"string"
                                    },
                                    "instructions":{
                                       "description":"Instructions for how to knit this row",
                                       "type":"array",
                                       "items":[
                                          {
                                             "type":"object",
                                             "properties":{
                                                "stitches":{
                                                   "description":"Stiches or groups of stitches to knit",
                                                   "type":"array",
                                                   "items":[
                                                      {
                                                         "type":"object",
                                                         "properties":{
                                                            "stitch":{
                                                               "description":"Verb, like knit or purl or yarn over",
                                                               "type":"array",
                                                               "items":{
                                                                  "description":"Single stitch (e.g., purl or yarn over)",
                                                                  "type":"string",
                                                                  "enum":[
                                                                     "bo",
                                                                     "co",
                                                                     "connect",
                                                                     "dec",
                                                                     "inc",
                                                                     "k",
                                                                     "k2tog",
                                                                     "k3tog",
                                                                     "kfb",
                                                                     "p",
                                                                     "pfb",
                                                                     "pm",
                                                                     "rm",
                                                                     "sl",
                                                                     "slm",
                                                                     "ssk",
                                                                     "turn",
                                                                     "yb",
                                                                     "yf",
                                                                     "yo"
                                                                  ]
                                                               }
                                                            },
                                                            "times":{
                                                               "description":"How many time to repeat the preceding stitches",
                                                               "type":"integer"
                                                            },
                                                            "color":{
                                                               "description":"Color to use for these stitches",
                                                               "type":"integer"
                                                            },
                                                            "modifier":{
                                                               "description":"Other information that modifies how to perform these stitches",
                                                               "type":"string"
                                                            }
                                                         },
                                                         "required":[
                                                            "stitch"
                                                         ]
                                                      }
                                                   ]
                                                },
                                                "times":{
                                                   "description":"How many times to repeat this group of stitches",
                                                   "type":"integer"
                                                },
                                                "comment":{
                                                   "description":"Additional instructions for this row",
                                                   "type":"string"
                                                }
                                             },
                                             "required":[
                                                "stitches"
                                             ]
                                          }
                                       ]
                                    },
                                    "times":{
                                       "description":"How many times to repeat this row",
                                       "type":"integer"
                                    },
                                    "length":{
                                       "description":"How many inches to repeat this row",
                                       "type":"integer"
                                    }
                                 }
                              }
                           }
                        }
                     ]
                  }
               }
            }
         ]
      }
   },
   "required":[
      "title",
      "authorName",
      "category",
      "sizes",
      "colors",
      "inTheRound",
      "yarnWeight",
      "section"
   ]
}